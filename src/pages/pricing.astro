---
export const prerender = false

import { getCollection } from 'astro:content'
import { resolveLayout } from '@lib/theme-resolver'
import { resolvePageContent } from '@lib/page-resolver'

const themeId = Astro.locals.theme
const Layout = resolveLayout(themeId)
const PageContent = resolvePageContent(themeId, 'pricing')

const pricingTiers = await getCollection('pricing')
const sortedTiers = pricingTiers.sort((a, b) => a.data.displayOrder - b.data.displayOrder)
---

<Layout
  title="Pricing"
  description="Transparent, competitive pricing for residential and commercial cleaning. No hidden fees."
>
  <PageContent pricing={sortedTiers} />
</Layout>
